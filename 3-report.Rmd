Analysis of Communication Survey
========================================================
  
  The "refugee communication survey" has been developped by UNHCR Jordan. The goals were:
  - Establish a baseline to measure future achievements of our communication strategy
- Establish coordination opportunities
- Define priorities in terms of needs and interventions.

The survey has three major parts
1. Communication needs: Establish main topics where there’s a lack of information (document, assistance, legal support, etc.) and the possible reasons for the gaps
2. Communication channels: Define  used channel (mobile, tv, radio, net, social networks, leaflet..) , how often they are used and how far they are trusted
3. Feedback mechanism: Assess existing feedback system and how they can be improved

A sample of **428 respondents** has been randomly selected both in camps and urban environment.

This document presents both the results and the R script developped in Rstudio (http://www.rstudio.com/) to obtain those results. Some good introduction to R here : https://github.com/DataScienceSpecialization/courses


Data preparation
========================================================
  
  Data were recorded in LimeSurvey and were extracted in the R format. Limesurvey allows for the creation of a file defining the syntax of the dataset.

```{r}
# RGet all data frame generated int he previous analysis phase
source("2-analysis.R")

```


The total number of valid observations is  **399**. This means that our sample is offering **more than 95 % confidence level**.

Look at the profile
========================================================
  
  We can then have a look at the profile of the respondant looking at the main characteristic we recorded:
  - Age Cohort
- Gender of the respondant
- Usge of smartphone
- Accomodation type

```{r}


# Regression on Smartphone Vs Age & Gender
cotabplot(Freq ~Ac_SmartPhone + pa_agecohort | pa_gender, data=consolidated.table,
          panel=cotab_sieve, gp=shading_Friendly,
          labeling=labeling_values)

# Regression on Smartphone Vs Age & Accomodation
cotabplot(Freq ~Accom + Ac_SmartPhone | pa_gender, data=consolidated.table,
          panel=cotab_sieve, gp=shading_Friendly,
          labeling=labeling_values, margins = rep(1, 4), layout = NULL,
          text_gp = gpar(fontsize = 12), rect_gp = gpar(fill = grey(0.9)),
          pop = TRUE, newpage = TRUE)
```



1. What are the main Communication needs?
========================================================
  
  ```{r}
# Bar graph based on reordered variable per value
ggplot(data=dataclean.commtopic, aes(x=reorder(variable, value) , y=value, fill=variable)) + 
  geom_bar( stat="identity") + 
  guides(fill=FALSE) + coord_flip()+
  xlab("Communication Topics") + ylab("Individual") +
  ggtitle("Main Information Topics")
```



2. What are the main communication channels?
========================================================
  ```{r}
# Bar graph based on reordered variable per value
ggplot(data=dataclean.channel, aes(x=reorder(variable, value) , y=value, fill=variable)) + 
  geom_bar( stat="identity") + 
  guides(fill=FALSE) + coord_flip()+
  xlab("Communication channel") + ylab("Individual") +
  ggtitle("Main Information Source")
```
**Comment:** Among the various options, a few communication channels appeared to be largely preferred by refugees.


We can now look at the distribution of the communication channels according to other Variables
```{r}
# Reorder Variable per Value
dataclean.channel <- transform(dataclean.channel, variable=reorder(variable, -value) ) 

# Generation of pivot table and plotting
dataclean.infosourcepergender <- cast(dataclean.channel, pa_gender~variable, sum)
par(las=2)# make label text perpendicular to axis
barplot(as.matrix(dataclean.infosourcepergender),
        main="Information Source per Gender of Respondant",
        legend = levels(dataclean.channel$pa_gender),
        cex.names=0.9) 
```

**Comment:** In general, it seems that communication linked through new technology is occuring more for Male than Female

```{r}
dataclean.infosourcepersmartphone <- cast(dataclean.channel, Ac_SmartPhone~variable, sum)
par(las=2)# make label text perpendicular to axis
barplot(as.matrix(dataclean.infosourcepersmartphone),
        main="Information Source  Per owner of smartphones",
        legend = levels(dataclean.channel$Ac_SmartPhone),
        cex.names=0.9)
```

**Comment:** As expected, the distribution of smartphone seems to be correlated to the type of communication channel.
```{r}
dataclean.infosourceperage <- cast(dataclean.channel, pa_agecohort~variable, sum)
par(las=2)# make label text perpendicular to axis
barplot(as.matrix(dataclean.infosourceperage),
        main="Information Source  Per Age Cohort",
        legend = levels(dataclean.channel$pa_agecohort),
        cex.names=0.9)
```

**Comment:** An interesting pattern is that eldern report more than other the usage of direct communication with UN staff as a communication channel.
```{r}
dataclean.infosourceperaccom <- cast(dataclean.channel, Accom~variable, sum)
par(las=2)# make label text perpendicular to axis
barplot(as.matrix(dataclean.infosourceperaccom),
        main="Information Source  Per Accommodation type",
        legend = levels(dataclean.channel$Accom),
        cex.names=0.9)
```
**Comment:**  As expected, the usage of internet is not available to refugees living in tent and caravan.


```{r}

# Bar graph based on reordered variable per value
ggplot(data=dataclean.television, aes(x=variable , y=value, fill=variable, position="stack")) + 
  geom_bar( stat="identity") +
  #  geom_text(aes(label=variable), vjust=0) +
  guides(fill=FALSE) + coord_flip()+
  xlab("Communication channel") + ylab("Individual") +
  ggtitle("Trust in TV as a communication channel")


# Bar graph based on reordered variable per value
ggplot(data=dataclean.mobile, aes(x=variable , y=value, fill=variable, position="stack")) + 
  geom_bar( stat="identity") +
  #  geom_text(aes(label=variable), vjust=0) +
  guides(fill=FALSE) + coord_flip()+
  xlab("Communication channel") + ylab("Individual") +
  ggtitle("Trust in Mobile as a communication channel")



# Bar graph based on reordered variable per value
ggplot(data=dataclean.internet, aes(x=variable , y=value, fill=variable, position="stack")) + 
  geom_bar( stat="identity") +
  #  geom_text(aes(label=variable), vjust=0) +
  guides(fill=FALSE) + coord_flip()+
  xlab("Communication channel") + ylab("Individual") +
  ggtitle("Trust in Internet as a communication channel")



# Bar graph based on reordered variable per value
ggplot(data=dataclean.friends, aes(x=variable , y=value, fill=variable, position="stack")) + 
  geom_bar( stat="identity") +
  #  geom_text(aes(label=variable), vjust=0) +
  guides(fill=FALSE) + coord_flip()+
  xlab("Communication channel") + ylab("Individual") +
  ggtitle("Trust in Friends as a communication channel")


```


- What are the main Communication channels (with a breakdown of usage)?
- What are the main Communication channels (with a breakdown of trust)?



- What are the main communication needs(with a breakdown of satisfaction)?
- What are the main communication needs(with a breakdown of access problem)?



- Are refugees using complaint mecanism?
```{r}
# Bar graph based on reordered variable per value
# Bar graph based on reordered variable per value
ggplot(data=consolidated.table, aes(x=535 , y=12, fill=535)) + 
  geom_bar( stat="identity") + 
  guides(fill=FALSE) + coord_flip()+
  xlab("Communication channel") + ylab("Individual") +
  ggtitle("Does complain")
```
```
- What are the issues refugees complained about?
- How complaint were emitted?



Mass Communication Survey: Econometrics Analysis
========================================================

Q9) [Issues] Which important issues does your household need information on?
A9) Registration for official aid with UNHCR [Issues_REGISTRATION_UNHCR_registration]
- [Issues_REGISTRATION_UNHCR_registration] is a dummy variable that takes value “1” if refugee states he needs information on registering for official aid; takes value “0” if he states he does not need information on registering for official aid with UNHCR

QUESTION: What Information Sources are associated with the lowest “issues” for registration for official aid with UNHCR?


### Univariate Regressions:
 - On 17 variables with [Issues_REGISTRATION_UNHCR_registration] as dependent variable and “Information Source” as independent variables; a YES signifies the variable can explain at least 1% of the variation in [Issues_REGISTRATION_UNHCR_registration]

```{r}
#NO
reg1<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Television, datasetwcamp) 

#NO, but almost stat. sig. at 10%
reg2<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Mobile, datasetwcamp)

#N0  
reg3<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Internet_news, datasetwcamp) 

#N0
reg4<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Facebook, datasetwcamp) 

#N0
reg5<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Twitter, datasetwcamp) 

#N0, byt stat. sig. at 5%
reg6<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Notice_Board_or_Poster, datasetwcamp)

#NO
reg7<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Newspapers_or_Magazines, datasetwcamp)

#NO
reg8<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Leaflets, datasetwcamp)

#NO, but stat. sig. at 5%
reg9<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Radio, datasetwcamp)* 

#YES, and stat. sig. at 0.1%  
reg10<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Friends_and_Family, datasetwcamp)

#YES, and stat. sig. at 0.1%
reg11<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Community_Leaders, datasetwcamp)

#NO
reg12<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Religious_Institutions_Mosque_Church_etc, datasetwcamp)

#NO
reg13<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Jordanian_Government_Officials, datasetwcamp)

#NO, but stat sig. at 5%
reg14<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_UNHCR, datasetwcamp)

#NO
reg15<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Other_Humanitarian_Workers_NGOs_CBOs, datasetwcamp)

#NO, but stat. sig. at 14%
reg16<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Health_Centres_Schools_Community_Centres, datasetwcamp) 

#NO
reg17<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Short_film_video_clip, datasetwcamp)

#NO
reg18<-lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_other, datasetwcamp)


```

**Comment:** in italics are variables selected for model. Multivariate regressions with 7, 6 and 5 explanatory variables were estimated. Information Source UNHCR and Information Source Health Centers Schools Community Centers were excluded from the final model (here below) as found highly statistically insignificant when controlling for the other Information Source covariates.


### Multivariate Regression (full dataset; 5 variables):
```{r}
regFD <- lm(Issues_REGISTRATION_UNHCR_registration ~
              InformationSource_Radio +
              InformationSource_Friends_and_Family+InformationSource_Community_Leaders +
              InformationSource_Mobile +
              InformationSource_Notice_Board_or_Poster,
            datasetwcamp)

```

#**Comment:** Information Sources “Friends and Family”, “Community Leaders” and "Radio" are negatively 
associated with Need of Information for Official Aid Registration. Thus, if Friends and Family and/or 
Community Leaders and/or Radio is the Information Source, refugees are a lot less likely to need information on how to register for official aid with UNHCR. 

**Trust in Information Sources:**
- Radio: too many NA’s in data
- Friends and Family: most answers reflect “full” and “moderate” trust
- Community Leaders: most answers reflect “moderate” trust
- Mobile: most answers reflect “full” trust
- Notice Board or Poster: too many NA’s in data

**Comment:** Information Sources found statistically significant in regression are trusted.

*Tests:**
```{r}
#approx. 1% hence multicollinearity not an issue
vif(regFD) 

#no evidence of model mis-specification
resettest(regFD) 

coefs<-names(coef(regFD)) 

#the above unrestricted model is fine
linearHypothesis(regFD,coefs[-1],white.adjust="hc0") 
```

### Multivariate Regression (subsets; 5 variables):

**Female and Male Principal Representative of Household Subset Regressions:**
```{r}

regSF <- lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Radio + 
              InformationSource_Friends_and_Family +
              InformationSource_Community_Leaders +
              InformationSource_Mobile + 
              InformationSource_Notice_Board_or_Poster, 
            subset(datasetwcamp,pa_gender=="female"))

regSM <- lm(Issues_REGISTRATION_UNHCR_registration~InformationSource_Radio +
              InformationSource_Friends_and_Family +
              InformationSource_Community_Leaders +
              InformationSource_Mobile +
              InformationSource_Notice_Board_or_Poster, subset(datasetwcamp,pa_gender=="male"))

```
**Comment::** loss in predictive power in Female model; positive and negative associations remain 

unaltered (except Mobile in Female model, but highly statistically insignificant)

**Further Analysis on Gender Principal Representative of Household:**

```{r}

missue<-datasetwcamp[pa_gender=="male",105]
 #Average value of [Issues_REGISTRATION_UNHCR_registration] (need for information on official registration) 
#for female-only principal representative of household subset = 0.395
mean(missue)

fissue<-datasetwcamp[pa_gender=="female",105]
#Average value of [Issues_REGISTRATION_UNHCR_registration] (need for information on official registration) 
#for male-only principal representative of household subset = 0.422
mean(fissue) 

#Log-differences between PA_female and Registration Issues and PA_male and Registration Issues is = 0.067
log(mean(missue)) - log(mean(fissue)) 

```

**Comment:** on average households with a male principal representative have more issues on finding information on how to register for official aid with UNHCR, there is a gender gap of almost 7%.


**Camp and Non-Camp (Host) Subset Regressions:**

```{r}
regSC <- lm(Issues_REGISTRATION_UNHCR_registration ~
              InformationSource_Radio +
              InformationSource_Friends_and_Family +
              InformationSource_Community_Leaders +
              InformationSource_Mobile+InformationSource_Notice_Board_or_Poster,
            subset(datasetwcamp,Camp=="1"))

regSH <- lm(Issues_REGISTRATION_UNHCR_registration
            ~InformationSource_Radio +
              InformationSource_Friends_and_Family +
              InformationSource_Community_Leaders +
              InformationSource_Mobile+InformationSource_Notice_Board_or_Poster, subset(datasetwcamp,Camp=="0"))
```

**Comment**: in the camp-only data there is stronger explanatory power than in the full dataset for variables "Friends and Family" and "Comminity Leaders", but less for "Radio"; loss of predictive power in host-only data


### Limitations:
Regression models have a low Coefficient of Determination, they can therefore explain little of what is happening in Registration Issues given the explanatory variables chosen; this is normal as we regressed only dummy variables.




Inference to develop strategies
========================================================
  Is there a relation between the type of communication needs and the type of communication channel?


Before we go further with our analysis, we set null and alternate hypothesis. 
H_0 -  There is no correlation between communication needs and communication channel
H_A -  There is a correlation between communication needs and communication channel

since our variables are categorical, we will employ anova function to test our hypothesis.

we will check the condition for anova, 
1) sampled observations within group are independent.
2) groups are independent of each other.
3) distributions with in each group are nearly normal.
4) each group has roughly equal variability as you can see in the box plot.

since all the condition for anova has been met we will use aov function now.

```{r}

fit <- aov(consolidated.table$commneed ~ consolidated.table$commchannel, data = consolidated.table)
anova(fit)
```


from the result we reject null hypothesis and conclude that all group means are not equal.
now to check which group means are significantly different from each other we use Tukey test

```{r}
TukeyHSD(fit)
```
from the result we observe that all the group differ significantly from each other. Tukey test also gives the 95% confident interval difference between any two group.
we will interpret one result from Tukey output:
  
  Conclusion
========================================================
  
  Preferred communication channels are TV



Reference
========================================================
  
  ```{r}
names(data) # show the variables
str(data) # show the structure of the data
```